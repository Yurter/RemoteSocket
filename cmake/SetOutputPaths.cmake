macro( SetOutputPaths )	    
    set( BIN_DIR            ${CMAKE_BINARY_DIR}/bin)
    set( LIB_DIR            ${CMAKE_BINARY_DIR}/lib)

    # Second, for multi-config builds (e.g. msvc)
    if( CMAKE_CONFIGURATION_TYPES )
        set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${BIN_DIR})
        set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${LIB_DIR})
        set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})

        foreach( OUTPUTCONFIG ${CMAKE_CONFIGURATION_TYPES} )
            string( TOUPPER ${OUTPUTCONFIG} OUTPUTCONFIG_UPPER )
            set( CMAKE_RUNTIME_OUTPUT_DIRECTORY_${OUTPUTCONFIG_UPPER} ${BIN_DIR}/${OUTPUTCONFIG} )
            set( CMAKE_LIBRARY_OUTPUT_DIRECTORY_${OUTPUTCONFIG_UPPER} ${LIB_DIR}/${OUTPUTCONFIG} )
            set( CMAKE_ARCHIVE_OUTPUT_DIRECTORY_${OUTPUTCONFIG_UPPER} ${CMAKE_LIBRARY_OUTPUT_DIRECTORY_${OUTPUTCONFIG_UPPER}} )
        endforeach( OUTPUTCONFIG CMAKE_CONFIGURATION_TYPES )

        string (REPLACE ";" "|" CMAKE_CONFIGURATION_TYPES_STR "${CMAKE_CONFIGURATION_TYPES}")
        message( STATUS "Global runtime output: " ${BIN_DIR}/(${CMAKE_CONFIGURATION_TYPES_STR}) )
        message( STATUS "Global library output: " ${LIB_DIR}/(${CMAKE_CONFIGURATION_TYPES_STR}) )
        message( STATUS "Global archive output: " ${LIB_DIR}/(${CMAKE_CONFIGURATION_TYPES_STR}) )
    else()
        # First for the generic no-config case (e.g. with mingw)
        set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${BIN_DIR}/${CMAKE_BUILD_TYPE})
        set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${LIB_DIR}/${CMAKE_BUILD_TYPE})
        set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
	list(APPEND CMAKE_BUILD_RPATH ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

        message( STATUS "Global runtime output: " ${CMAKE_RUNTIME_OUTPUT_DIRECTORY} )
        message( STATUS "Global library output: " ${CMAKE_LIBRARY_OUTPUT_DIRECTORY} )
        message( STATUS "Global archive output: " ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY} )
    endif( CMAKE_CONFIGURATION_TYPES )
endmacro()
